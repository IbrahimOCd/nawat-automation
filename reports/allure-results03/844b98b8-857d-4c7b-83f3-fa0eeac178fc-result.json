{"name": "test_all_classes_filter", "status": "failed", "statusDetails": {"message": "AssertionError: No classes found\nassert 0 > 0\n +  where 0 = len([])", "trace": "class_filter_page = <pages.access.school_card.class_filter_page.ClassFilterPage object at 0x0000025986FB0310>\n\n    @allure.feature(\"Student Management\")\n    @allure.story(\"Class Filtering\")\n    def test_all_classes_filter(class_filter_page):\n        \"\"\"Test filtering students by all available class levels - FAST VERSION\"\"\"\n    \n        # Initialize tracking variables\n        classes_tested = []\n        classes_with_students = []\n        classes_without_students = []\n        classes_with_mismatches = {}\n        classes_with_errors = []\n    \n        # PHASE 1: FAST EXPANSION\n        print(\"ðŸš€ PHASE 1: FAST EXPANSION\")\n        start_time = time.time()\n    \n        expansion_success = class_filter_page.expand_all_sidebar_items()\n    \n        # PHASE 2: FAST COLLECTION\n        print(\"ðŸ“‹ PHASE 2: COLLECTING CLASSES\")\n    \n        sidebar_items = class_filter_page.get_all_sidebar_items()\n        class_items = [(element, title) for element, title, is_class in sidebar_items if is_class]\n    \n        print(f\"âš¡ Found {len(class_items)} classes in {time.time() - start_time:.1f}s\")\n    \n        if len(class_items) == 0:\n            # Enhanced debugging when no classes found\n            print(\"\\nðŸš¨ NO CLASSES FOUND - RUNNING ENHANCED DEBUG\")\n    \n            # Show what we actually found\n            print(f\"\\nðŸ“Š All sidebar items found ({len(sidebar_items)}):\")\n            for i, (_, title, is_class) in enumerate(sidebar_items):\n                status = \"âœ… CLASS\" if is_class else \"âŒ NOT CLASS\"\n                print(f\"  {i+1}. {title} ({status})\")\n    \n            # Run enhanced debug\n            class_filter_page.debug_sidebar_structure()\n    \n            # Try a different expansion approach\n            print(\"\\nðŸ”„ TRYING JAVASCRIPT EXPANSION\")\n    \n            # Use JavaScript to expand and get classes\n            js_expansion_result = class_filter_page.page.evaluate(\"\"\"\n                () => {\n                    // Try to click all expandable items\n                    let clicked = 0;\n                    const selectors = [\n                        '[class*=\"search_panel_label\"]',\n                        '[class*=\"panel_label\"]',\n                        'div[class*=\"o_search\"]',\n                        'div[role=\"button\"]'\n                    ];\n    \n                    selectors.forEach(selector => {\n                        const elements = document.querySelectorAll(selector);\n                        elements.forEach(el => {\n                            try {\n                                el.click();\n                                clicked++;\n                            } catch(e) {}\n                        });\n                    });\n    \n                    // Wait a moment then find classes\n                    setTimeout(() => {}, 1000);\n    \n                    // Look for text with parentheses (classes)\n                    const allText = Array.from(document.querySelectorAll('*'))\n                        .map(el => el.textContent)\n                        .filter(text => text && text.includes('(') && text.includes(')'))\n                        .filter(text => text.length < 50); // Reasonable class name length\n    \n                    return {\n                        clicked: clicked,\n                        possibleClasses: [...new Set(allText)].slice(0, 10)\n                    };\n                }\n            \"\"\")\n    \n            print(f\"ðŸŽ¯ JavaScript expansion: clicked {js_expansion_result['clicked']} elements\")\n            print(f\"ðŸŽ“ Possible classes found: {js_expansion_result['possibleClasses']}\")\n    \n            # Wait for JS changes to take effect\n            time.sleep(2)\n    \n            # Try getting items again\n            sidebar_items = class_filter_page.get_all_sidebar_items()\n            class_items = [(element, title) for element, title, is_class in sidebar_items if is_class]\n            print(f\"âš¡ After JS expansion: found {len(class_items)} classes\")\n    \n        # PHASE 3: FAST TESTING\n        print(\"ðŸ§ª PHASE 3: TESTING CLASSES\")\n    \n        # Process each class FAST\n        for i, (element, title) in enumerate(class_items):\n            try:\n                # Click fast\n                if not class_filter_page.click_sidebar_item_safe(element, title):\n                    classes_with_errors.append(f\"{title} (click failed)\")\n                    continue\n    \n                classes_tested.append(title)\n    \n                # Fast student check with single retry\n                has_students = class_filter_page.has_students()\n                if not has_students:\n                    # Single fast retry\n                    time.sleep(0.5)\n                    has_students = class_filter_page.has_students()\n    \n                if has_students:\n                    classes_with_students.append(title)\n    \n                    # Fast verification\n                    success, details = class_filter_page.verify_students_match_class(title)\n    \n                    if not success and 'mismatched_students' in details:\n                        classes_with_mismatches[title] = details['mismatched_students']\n                else:\n                    classes_without_students.append(title)\n    \n                # No pause between classes for speed\n    \n            except Exception as e:\n                classes_with_errors.append(f\"{title} (error: {str(e)})\")\n                continue\n    \n        # FAST SUMMARY\n        total_time = time.time() - start_time\n        print(f\"\\nâš¡ COMPLETED IN {total_time:.1f}s\")\n    \n        # Compact summary\n        summary = (f\"FAST TEST RESULTS ({total_time:.1f}s)\\n\" +\n                  f\"Classes: {len(class_items)} found, {len(classes_tested)} tested\\n\" +\n                  f\"Students: {len(classes_with_students)} classes have students\\n\" +\n                  f\"Errors: {len(classes_with_errors)} classes failed\\n\" +\n                  f\"Mismatches: {len(classes_with_mismatches)} classes with wrong students\")\n    \n        if classes_with_mismatches:\n            for class_name, mismatched in classes_with_mismatches.items():\n                summary += f\"\\nâŒ {class_name}: {len(mismatched)} mismatched students\"\n    \n        # Quick allure attach\n        allure.attach(summary, name=\"Fast Test Summary\", attachment_type=allure.attachment_type.TEXT)\n    \n        # Print to console\n        print(summary)\n    \n        # Fast assertions\n>       assert len(class_items) > 0, \"No classes found\"\nE       AssertionError: No classes found\nE       assert 0 > 0\nE        +  where 0 = len([])\n\ntests\\acces\\test_class_filters.py:165: AssertionError"}, "description": "Test filtering students by all available class levels - FAST VERSION", "attachments": [{"name": "Fast Test Summary", "source": "47b179cc-561f-498c-847e-72ddf42732c0-attachment.txt", "type": "text/plain"}, {"name": "stdout", "source": "ac1b75d4-20e2-46e2-897a-b351a9fbbd67-attachment.txt", "type": "text/plain"}], "start": 1747817565149, "stop": 1747817573074, "uuid": "fac25fa0-7757-4910-a2b6-7a51d2f602ec", "historyId": "3da7e31da9be5c62f5a4ef8d202e69e7", "testCaseId": "3da7e31da9be5c62f5a4ef8d202e69e7", "fullName": "tests.acces.test_class_filters#test_all_classes_filter", "labels": [{"name": "story", "value": "Class Filtering"}, {"name": "feature", "value": "Student Management"}, {"name": "parentSuite", "value": "tests.acces"}, {"name": "suite", "value": "test_class_filters"}, {"name": "host", "value": "DESKTOP-LKP4IQM"}, {"name": "thread", "value": "18396-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.acces.test_class_filters"}]}