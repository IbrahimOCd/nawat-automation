{"name": "test_maternelle_classes_filter", "status": "broken", "statusDetails": {"message": "playwright._impl._api_types.Error: DOMException: Failed to execute 'evaluate' on 'Document': The string '(//header[contains(@class,'list-group-item list-group-item-action')]/following-sibling::ul) li a span' is not a valid XPath expression.\n    at Object.queryAll (<anonymous>:23:25)\n    at InjectedScript._queryEngineAll (<anonymous>:4520:49)\n    at InjectedScript.querySelectorAll (<anonymous>:4507:30)\n    at eval (eval at evaluate (:197:30), <anonymous>:5:23)\n    at UtilityScript.evaluate (<anonymous>:199:17)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)", "trace": "class_filter_page = <pages.access.school_card.class_filter_page.ClassFilterPage object at 0x0000026883D06770>\n\n    @allure.feature(\"Student Management\")\n    @allure.story(\"Class Filtering\")\n    def test_maternelle_classes_filter(class_filter_page):\n        \"\"\"Test filtering students by Maternelle classes\"\"\"\n        with allure.step(\"Select Maternelle niveau\"):\n            # Click on Maternelle (assuming it's the first niveau)\n            niveau_name = class_filter_page.click_niveau(1)\n            assert \"Maternelle\" in niveau_name, f\"Expected 'Maternelle' but got '{niveau_name}'\"\n    \n        with allure.step(\"Select Moyenne Section\"):\n            # Click on Moyenne Section (assuming it's the second element after expanding Maternelle)\n            section_name = class_filter_page.click_section(2)\n            assert \"Moyenne Section\" in section_name, f\"Expected 'Moyenne Section' but got '{section_name}'\"\n    \n        with allure.step(\"Get available classes\"):\n            # Get all class names in the Moyenne Section\n>           class_names = class_filter_page.get_class_names()\n\ntests\\acces\\test_class_filters.py:31: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\npages\\access\\school_card\\class_filter_page.py:130: in get_class_names\n    class_elements = self.page.query_selector_all(f\"{self.CLASSES_CONTAINER} li a span\")\nvenv\\lib\\site-packages\\playwright\\sync_api\\_generated.py:8195: in query_selector_all\n    self._sync(self._impl_obj.query_selector_all(selector=selector))\nvenv\\lib\\site-packages\\playwright\\_impl\\_page.py:359: in query_selector_all\n    return await self._main_frame.query_selector_all(selector)\nvenv\\lib\\site-packages\\playwright\\_impl\\_frame.py:310: in query_selector_all\n    await self._channel.send(\"querySelectorAll\", dict(selector=selector)),\nvenv\\lib\\site-packages\\playwright\\_impl\\_connection.py:61: in send\n    return await self._connection.wrap_api_call(\nvenv\\lib\\site-packages\\playwright\\_impl\\_connection.py:461: in wrap_api_call\n    return await cb()\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright._impl._connection.Channel object at 0x0000026883D05630>, method = 'querySelectorAll'\nparams = {'selector': \"(//header[contains(@class,'list-group-item list-group-item-action')]/following-sibling::ul) li a span\"}, return_as_dict = False\n\n    async def inner_send(\n        self, method: str, params: Optional[Dict], return_as_dict: bool\n    ) -> Any:\n        if params is None:\n            params = {}\n        callback = self._connection._send_message_to_server(self._guid, method, params)\n        if self._connection._error:\n            error = self._connection._error\n            self._connection._error = None\n            raise error\n        done, _ = await asyncio.wait(\n            {\n                self._connection._transport.on_error_future,\n                callback.future,\n            },\n            return_when=asyncio.FIRST_COMPLETED,\n        )\n        if not callback.future.done():\n            callback.future.cancel()\n>       result = next(iter(done)).result()\nE       playwright._impl._api_types.Error: DOMException: Failed to execute 'evaluate' on 'Document': The string '(//header[contains(@class,'list-group-item list-group-item-action')]/following-sibling::ul) li a span' is not a valid XPath expression.\nE           at Object.queryAll (<anonymous>:23:25)\nE           at InjectedScript._queryEngineAll (<anonymous>:4520:49)\nE           at InjectedScript.querySelectorAll (<anonymous>:4507:30)\nE           at eval (eval at evaluate (:197:30), <anonymous>:5:23)\nE           at UtilityScript.evaluate (<anonymous>:199:17)\nE           at UtilityScript.<anonymous> (<anonymous>:1:44)\n\nvenv\\lib\\site-packages\\playwright\\_impl\\_connection.py:96: Error"}, "description": "Test filtering students by Maternelle classes", "steps": [{"name": "Select Maternelle niveau", "status": "passed", "steps": [{"name": "Click on niveau at index 1", "status": "passed", "attachments": [{"name": "Niveau Selection", "source": "567cf2cd-af7a-4547-b694-5af0296c1777-attachment.txt", "type": "text/plain"}, {"name": "Niveau Maternelle", "source": "8c42d9af-d34a-4518-810d-e6118c3be186-attachment.png", "type": "image/png"}], "start": 1747317391740, "stop": 1747317398519}], "start": 1747317391740, "stop": 1747317398520}, {"name": "Select Moyenne Section", "status": "passed", "steps": [{"name": "Click on section at index 2", "status": "passed", "attachments": [{"name": "Section Selection", "source": "16025553-1833-4f24-afc5-64bb7d06e847-attachment.txt", "type": "text/plain"}, {"name": "Section Moyenne Section", "source": "ed0e46a3-0591-41db-be44-e44c7f02c377-attachment.png", "type": "image/png"}], "start": 1747317398520, "stop": 1747317438351}], "start": 1747317398520, "stop": 1747317438351}, {"name": "Get available classes", "status": "broken", "statusDetails": {"message": "playwright._impl._api_types.Error: DOMException: Failed to execute 'evaluate' on 'Document': The string '(//header[contains(@class,'list-group-item list-group-item-action')]/following-sibling::ul) li a span' is not a valid XPath expression.\n    at Object.queryAll (<anonymous>:23:25)\n    at InjectedScript._queryEngineAll (<anonymous>:4520:49)\n    at InjectedScript.querySelectorAll (<anonymous>:4507:30)\n    at eval (eval at evaluate (:197:30), <anonymous>:5:23)\n    at UtilityScript.evaluate (<anonymous>:199:17)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n", "trace": "  File \"C:\\Users\\lenovo\\Desktop\\nawat-automation-master\\tests\\acces\\test_class_filters.py\", line 31, in test_maternelle_classes_filter\n    class_names = class_filter_page.get_class_names()\n  File \"C:\\Users\\lenovo\\Desktop\\nawat-automation-master\\pages\\access\\school_card\\class_filter_page.py\", line 130, in get_class_names\n    class_elements = self.page.query_selector_all(f\"{self.CLASSES_CONTAINER} li a span\")\n  File \"C:\\Users\\lenovo\\Desktop\\nawat-automation-master\\venv\\lib\\site-packages\\playwright\\sync_api\\_generated.py\", line 8195, in query_selector_all\n    self._sync(self._impl_obj.query_selector_all(selector=selector))\n  File \"C:\\Users\\lenovo\\Desktop\\nawat-automation-master\\venv\\lib\\site-packages\\playwright\\_impl\\_sync_base.py\", line 104, in _sync\n    return task.result()\n  File \"C:\\Users\\lenovo\\Desktop\\nawat-automation-master\\venv\\lib\\site-packages\\playwright\\_impl\\_page.py\", line 359, in query_selector_all\n    return await self._main_frame.query_selector_all(selector)\n  File \"C:\\Users\\lenovo\\Desktop\\nawat-automation-master\\venv\\lib\\site-packages\\playwright\\_impl\\_frame.py\", line 310, in query_selector_all\n    await self._channel.send(\"querySelectorAll\", dict(selector=selector)),\n  File \"C:\\Users\\lenovo\\Desktop\\nawat-automation-master\\venv\\lib\\site-packages\\playwright\\_impl\\_connection.py\", line 61, in send\n    return await self._connection.wrap_api_call(\n  File \"C:\\Users\\lenovo\\Desktop\\nawat-automation-master\\venv\\lib\\site-packages\\playwright\\_impl\\_connection.py\", line 461, in wrap_api_call\n    return await cb()\n  File \"C:\\Users\\lenovo\\Desktop\\nawat-automation-master\\venv\\lib\\site-packages\\playwright\\_impl\\_connection.py\", line 96, in inner_send\n    result = next(iter(done)).result()\n"}, "steps": [{"name": "Get class names", "status": "broken", "statusDetails": {"message": "playwright._impl._api_types.Error: DOMException: Failed to execute 'evaluate' on 'Document': The string '(//header[contains(@class,'list-group-item list-group-item-action')]/following-sibling::ul) li a span' is not a valid XPath expression.\n    at Object.queryAll (<anonymous>:23:25)\n    at InjectedScript._queryEngineAll (<anonymous>:4520:49)\n    at InjectedScript.querySelectorAll (<anonymous>:4507:30)\n    at eval (eval at evaluate (:197:30), <anonymous>:5:23)\n    at UtilityScript.evaluate (<anonymous>:199:17)\n    at UtilityScript.<anonymous> (<anonymous>:1:44)\n", "trace": "  File \"C:\\Users\\lenovo\\Desktop\\nawat-automation-master\\pages\\access\\school_card\\class_filter_page.py\", line 130, in get_class_names\n    class_elements = self.page.query_selector_all(f\"{self.CLASSES_CONTAINER} li a span\")\n  File \"C:\\Users\\lenovo\\Desktop\\nawat-automation-master\\venv\\lib\\site-packages\\playwright\\sync_api\\_generated.py\", line 8195, in query_selector_all\n    self._sync(self._impl_obj.query_selector_all(selector=selector))\n  File \"C:\\Users\\lenovo\\Desktop\\nawat-automation-master\\venv\\lib\\site-packages\\playwright\\_impl\\_sync_base.py\", line 104, in _sync\n    return task.result()\n  File \"C:\\Users\\lenovo\\Desktop\\nawat-automation-master\\venv\\lib\\site-packages\\playwright\\_impl\\_page.py\", line 359, in query_selector_all\n    return await self._main_frame.query_selector_all(selector)\n  File \"C:\\Users\\lenovo\\Desktop\\nawat-automation-master\\venv\\lib\\site-packages\\playwright\\_impl\\_frame.py\", line 310, in query_selector_all\n    await self._channel.send(\"querySelectorAll\", dict(selector=selector)),\n  File \"C:\\Users\\lenovo\\Desktop\\nawat-automation-master\\venv\\lib\\site-packages\\playwright\\_impl\\_connection.py\", line 61, in send\n    return await self._connection.wrap_api_call(\n  File \"C:\\Users\\lenovo\\Desktop\\nawat-automation-master\\venv\\lib\\site-packages\\playwright\\_impl\\_connection.py\", line 461, in wrap_api_call\n    return await cb()\n  File \"C:\\Users\\lenovo\\Desktop\\nawat-automation-master\\venv\\lib\\site-packages\\playwright\\_impl\\_connection.py\", line 96, in inner_send\n    result = next(iter(done)).result()\n"}, "start": 1747317438351, "stop": 1747317438460}], "start": 1747317438351, "stop": 1747317438461}], "start": 1747317391739, "stop": 1747317438462, "uuid": "2f6724e7-a657-498d-8dbc-731e9f297a77", "historyId": "2d69dcb9e52dd7a56973158374f9f3d4", "testCaseId": "2d69dcb9e52dd7a56973158374f9f3d4", "fullName": "tests.acces.test_class_filters#test_maternelle_classes_filter", "labels": [{"name": "story", "value": "Class Filtering"}, {"name": "feature", "value": "Student Management"}, {"name": "parentSuite", "value": "tests.acces"}, {"name": "suite", "value": "test_class_filters"}, {"name": "host", "value": "DESKTOP-LKP4IQM"}, {"name": "thread", "value": "26348-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.acces.test_class_filters"}]}